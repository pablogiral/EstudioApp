(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){},39:function(e,t,a){e.exports=a(83)},44:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(34),c=a.n(s),o=(a(44),a(1)),i=a(5),l=a(3),u=a(2),m=a(4),p=a(14),h=a(11),d=a.n(h),f=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,n){return t.service.post("/signup",{username:e,password:a,email:n}).then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentuser").then((function(e){return e.data}))},this.logout=function(){return t.service.get("/logout").then((function(e){return e.data}))},this.service=d.a.create({baseURL:"".concat("https://studiomanagerapp.herokuapp.com","/api/auth"),withCredentials:!0})},b=function e(){var t=this;Object(o.a)(this,e),this.deleteUser=function(){return t.service.post("/deleteUser").then((function(e){return e.data}))},this.service=d.a.create({baseURL:"".concat("https://studiomanagerapp.herokuapp.com","/api/auth"),withCredentials:!0})},v=a(8),g=a(6),E=(a(32),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,r=a.state.email;a.service.signup(t,n,r).then((function(e){a.setState({username:"",password:"",email:""}),a.props.getUser(e.user)})).catch((function(e){a.setState({username:t,password:n,email:r,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.state={username:"",password:"",email:""},a.service=new f,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-signup"},r.a.createElement("h3",null,"Create your account:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",{className:"LSlabel"},"Username:"),r.a.createElement("input",{className:"LSinput",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",{className:"align"},r.a.createElement("label",{className:"LSlabel"},"Email:"),r.a.createElement("input",{className:"LSinput",type:"text",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",{className:"LSlabel"},"Password:"),r.a.createElement("input",{className:"LSinput",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"LSbutton",type:"submit",value:"Sign up"})),r.a.createElement("h1",null,this.state.error?"Error":""),r.a.createElement("span",{className:"LStext"},"Allready a  user? ",r.a.createElement(g.b,{className:"LStextLink",to:"/login"},"login")))}}]),t}(n.Component)),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.state={username:"",password:""},a.service=new f,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-signup"},r.a.createElement("h3",null,"Login to your account:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",{className:"LSlabel"},"Username:"),r.a.createElement("input",{className:"LSinput",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",{className:"LSlabel"},"Password:"),r.a.createElement("input",{className:"LSinput",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"LSbutton",type:"submit",value:"Login"})),r.a.createElement("h1",null,this.state.error?"Error":""),r.a.createElement("span",{className:"LStext"},"Not a  user? ",r.a.createElement(g.b,{className:"LStextLink",to:"/signup"},"Signup")))}}]),t}(n.Component),O=(a(67),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(e){a.props.logout()},a.state={loggedInUser:{}},a.service=new f,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.loggedInUser?r.a.createElement("nav",{className:"nav-style"},r.a.createElement("div",{className:"navbar-block-left"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://res.cloudinary.com/dmzi2js9s/image/upload/v1570991057/Studio%20Manager/Studio_manager_2_d7ssm2.png",alt:"studio manager logo"})),r.a.createElement("div",{className:"navbar-element"},r.a.createElement(g.b,{to:"/viewstudios"},"Home"))),r.a.createElement("div",{className:"navbar-block-right"},r.a.createElement("div",{className:"navbar-element"},r.a.createElement(g.b,{to:"/profile"},this.state.loggedInUser.username,"'s profile")),r.a.createElement("div",{className:"navbar-element"},r.a.createElement(g.b,{to:"/login",onClick:this.handleLogout},"Logout")))):r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-style"},r.a.createElement("div",{className:"navbar-block-left"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://res.cloudinary.com/dmzi2js9s/image/upload/v1570991057/Studio%20Manager/Studio_manager_2_d7ssm2.png",alt:"studio manager logo"}))),r.a.createElement("div",{className:"navbar-block-right"},r.a.createElement("div",{className:"navbar-element"},r.a.createElement(g.b,{to:"/signup"},"Signup")),r.a.createElement("div",{className:"navbar-element"},r.a.createElement(g.b,{to:"/login"},"Login")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.loggedInUser=e.userInSession}}]),t}(n.Component)),y=(a(68),a(15)),k=function e(){var t=this;Object(o.a)(this,e),this.create=function(e){return t.service.post("/studiocreate",{studioname:e}).then((function(e){return e.data}))},this.allStudios=function(){return t.service.get("/allStudios").then((function(e){return e.data}))},this.oneStudio=function(e){return t.service.get("/getStudio/".concat(e)).then((function(e){return e.data}))},this.service=d.a.create({baseURL:"".concat("https://studiomanagerapp.herokuapp.com","/api/studioroutes"),withCredentials:!0})},S=(a(69),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.studioname;a.service.create(t).then((function(e){a.setState({studioname:""}),a.props.getStudio(e)})).catch((function(e){a.setState({studioname:t,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.state={studioname:""},a.service=new k,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"createStudio"},r.a.createElement("h3",null,"Create your studio:"),r.a.createElement("form",{className:"create-form",onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",{className:"create-form"},r.a.createElement("input",{type:"text",name:"studioname",placeholder:"Enter your studio's name",value:this.state.studioname,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"create"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component)),w=(a(70),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"studioCard"},r.a.createElement("img",{src:this.props.studio.studioimage,alt:this.props.studio.studioname}),r.a.createElement("h2",null,this.props.studio.studioname),r.a.createElement("h4",null,"Open projects: ",this.props.studio.projects.length," "),r.a.createElement(g.b,{to:"/viewprojects/".concat(this.props.studio._id)},r.a.createElement("button",null,"See projects")))}}]),t}(n.Component));a(71);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getStudio=function(e){var t=Object(y.a)(a.state.studios);t.push(e),a.setState(N({},a.state,{studios:t}))},a.state={studios:[]},a.service=new k,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllStudios()}},{key:"getAllStudios",value:function(){var e=this;this.service.allStudios().then((function(t){e.setState(N({},e.state,{studios:t}))}))}},{key:"render",value:function(){return Array.isArray(this.state.studios)?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"studioView"},this.state.studios.map((function(e){return r.a.createElement(w,{key:e._id,studio:e})}))),r.a.createElement(S,{getStudio:this.getStudio})):r.a.createElement("div",null,r.a.createElement(S,{getStudio:this.getStudio}))}}]),t}(n.Component),P=a(37),U=a.n(P),L=(a(74),["Enero","Febrero","Mars","Avril","Mai","Juin","Juillet","A\xfbot","Septembre","Octobre","Novembre","D\xe9cembre"]),x=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e,t){a.setState({startDate:e,endDate:t})},a.render=function(){var e=a.state,t=e.startDate,n=e.endDate;return r.a.createElement(U.a,{disableDates:function(e){return e<(new Date).getTime()},startDate:t,endDate:n,onChange:a.onChange,range:!0,monthLabels:L})};var n=new Date,s=n.getTime();return a.state={startDate:s,endDate:new Date(s).setDate(n.getDate()+0)},a}return Object(m.a)(t,e),t}(n.Component),T=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,null))}}]),t}(n.Component),I=a(22),F=a.n(I),_=a(38),A=function e(){var t=this;Object(o.a)(this,e),this.create=function(e){return t.service.post("/newProject",{projectName:e}).then((function(e){return e.data}))},this.allProjects=function(e){return t.service.get("/allProjects/".concat(e)).then((function(e){return e.data}))},this.service=d.a.create({baseURL:"".concat("https://studiomanagerapp.herokuapp.com","/api/projectRoutes"),withCredentials:!0})},V=(a(76),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.props.project.tasks),r.a.createElement("div",{className:"projectCard"},r.a.createElement("img",{src:this.props.project.projectimage,alt:this.props.project.name}),r.a.createElement("h2",null,this.props.project.name),r.a.createElement("h3",null,this.props.project.bandname),r.a.createElement("h4",null,"Pending tasks: ",this.props.project.tasks.filter((function(){}))),r.a.createElement(g.b,{to:"/viewtasks/".concat(this.props.project._id)},r.a.createElement("button",null,"See tasks")))}}]),t}(n.Component));function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.projectname,n=a.state.bandname;a.service.create({projectname:t,bandname:n,belongsTo:a.props.urlId}).then((function(e){a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,{projectname:"",bandname:""})),a.props.getProject(e.saveProject)})).catch((function(e){a.setState({projectname:t,bandname:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.state={projectname:"",bandname:""},a.service=new A,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Create a new project:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Project name:"),r.a.createElement("input",{type:"text",name:"projectname",value:this.state.projectname,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Band name:"),r.a.createElement("input",{type:"text",name:"bandname",value:this.state.bandname,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"create"})),r.a.createElement("h1",null,this.state.error?"Error":"")))}}]),t}(n.Component),B=(a(77),a(78),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"search-form",id:"test"},r.a.createElement("input",{type:"search",name:"foodName",placeholder:"Search here",onChange:function(t){return e.props.updateSearchFormData(t)}}))}}]),t}(n.Component));function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getProject=function(e){var t=Object(y.a)(a.state.projects);t.push(e),a.setState(z({},a.state,{projects:t,projectsClean:t}))},a.state={projects:[],projectsClean:[],studio:{}},a.service=new A,a.serviceStudio=new k,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getStudio()}},{key:"getStudio",value:function(){var e=Object(_.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceStudio.oneStudio(this.props.match.params.id);case 2:t=e.sent,this.setState(z({},this.state,{studio:t,projectsClean:t.projects,projects:t.projects}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSearch",value:function(e){var t=e.target.value,a=Object(y.a)(this.state.projectsClean);this.setState(z({},this.state,{projects:a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))}},{key:"render",value:function(){var e=this;if(this.state.studio&&this.state.projects)return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,{updateSearchFormData:function(t){return e.updateSearch(t)}}),r.a.createElement("div",{className:"projectView"},this.state.projects.map((function(e){return r.a.createElement(V,{key:e._id,project:e})}))),r.a.createElement("div",null,r.a.createElement(R,{getProject:function(t){return e.getProject(t)},urlId:this.props.match.params.id})),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/viewstudios"},"Back to studios")))}}]),t}(n.Component),W=a(18),$=a.n(W),q=(a(80),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"taskItemComponent"},r.a.createElement("input",{type:"checkbox",checked:this.props.task.done,onChange:function(){return e.props.updateTaskValue(e.props.task)}}),r.a.createElement("span",{style:{textDecoration:this.props.task.done?"line-through":""}},$()(this.props.task.createdAt).format("DD/MM hh:mm")),r.a.createElement("span",{style:{textDecoration:this.props.task.done?"line-through":""}},this.props.task.name))}}]),t}(n.Component));a(81);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={tasks:[],newTask:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("".concat("https://studiomanagerapp.herokuapp.com","/api/taskRoutes/projectTasks/").concat(this.props.match.params.id)).then((function(t){console.log(t.data),e.setState(K({},e.state,{tasks:t.data.tasks}))}))}},{key:"addNewTask",value:function(){var e=this;""!==this.state.newTask&&d.a.post("".concat("https://studiomanagerapp.herokuapp.com","/api/taskRoutes/newTask"),{name:this.state.newTask,projectID:this.props.match.params.id}).then((function(t){e.setState(K({},e.state,{tasks:t.data.tasks,newTask:""}))}))}},{key:"setNewTaskValue",value:function(e){this.setState(K({},this.state,{newTask:e.target.value}))}},{key:"updateTaskValue",value:function(e){var t=this,a=!Object(y.a)(this.state.tasks).find((function(t){return t._id===e._id})).done,n="".concat("https://studiomanagerapp.herokuapp.com","/api/taskRoutes/task/").concat(e._id,"/done/").concat(a,"/project/").concat(this.props.match.params.id);d.a.get(n).then((function(e){t.setState(K({},t.state,{tasks:e.data.tasks}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tasks"},r.a.createElement("header",null,r.a.createElement("input",{type:"text",value:this.state.newTask,onChange:function(t){return e.setNewTaskValue(t)},placeholder:"Please specify your new task"}),r.a.createElement("button",{onClick:function(){return e.addNewTask()}},"Add new task")),this.state.tasks.filter((function(e){return!e.done})).length>0&&r.a.createElement("div",null,r.a.createElement("h1",{className:"task-list"},"Total tasks to do -"," ",this.state.tasks.filter((function(e){return!e.done})).length),r.a.createElement("section",{className:"task-list"},this.state.tasks.filter((function(e){return!e.done})).map((function(t){return r.a.createElement(q,{key:t._id,task:t,updateTaskValue:function(t){return e.updateTaskValue(t)}})})))),this.state.tasks.filter((function(e){return e.done})).length>0&&r.a.createElement("div",null,r.a.createElement("h1",{className:"task-list"},"Total tasks done -"," ",this.state.tasks.filter((function(e){return e.done})).length),r.a.createElement("section",{className:"task-list"},this.state.tasks.filter((function(e){return e.done})).map((function(t){return r.a.createElement(q,{key:t._id,task:t,updateTaskValue:function(t){return e.updateTaskValue(t)}})})))),0===this.state.tasks.filter((function(e){return e.done})).length&&r.a.createElement("h1",null,"No tasks done"),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/viewprojects/".concat(this.props.match.params.id)},"Back to projects")))}}]),t}(n.Component),X=(a(82),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={user:a.props.user},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"profileCard"},r.a.createElement("img",{src:this.state.user.image,alt:"profile pic"}),r.a.createElement("div",null,r.a.createElement("h1",null,"Hello ",this.state.user.username,"!"),r.a.createElement("h3",null,"email: ",this.state.user.email),r.a.createElement("h3",null,"User since: ",$()(this.state.user.created_at).format("yyyy/mm/dd")),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/editprofile"},r.a.createElement("button",{props:this.state.user},"Edit your profile")),r.a.createElement("button",{onClick:function(){return e.props.deleteUser()}},"Delete your profile")))))}}]),t}(n.Component)),Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.state={user:a.props.user,newName:"",newEmail:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.newEmail),r.a.createElement("div",null,r.a.createElement("h3",null,"Edit your profile:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",placeholder:this.state.user.username,name:"newName",value:this.state.newName,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",placeholder:this.state.user.email,name:"newEmail",value:this.state.newEmail,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"Save"})))}}]),t}(n.Component),Z=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).getUser=function(t){e.setState({loggedInUser:t})},e.logout=function(){e.service.logout().then((function(){e.setState({loggedInUser:null})}))},e.state={loggedInUser:null},e.service=new f,e.serviceUser=new b,e.fetchUser(),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"deleteUser",value:function(){var e=this;"delete"===prompt("Type 'delete' to confirm")&&this.serviceUser.deleteUser().then((function(){e.setState({loggedInUser:null})}))}},{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{to:"/home"}),r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(O,{userInSession:this.state.loggedInUser,logout:this.logout})),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/viewcalendar",render:function(){return r.a.createElement(T,null)}}),r.a.createElement(p.b,{exact:!0,path:"/viewstudios",render:function(){return r.a.createElement(D,null)}}),r.a.createElement(p.b,{exact:!0,path:"/home",render:function(){return r.a.createElement(D,null)}}),r.a.createElement(p.b,{exact:!0,path:"/",render:function(){return r.a.createElement(D,null)}}),r.a.createElement(p.b,{exact:!0,path:"/profile",render:function(){return r.a.createElement(X,{user:e.state.loggedInUser,deleteUser:function(){return e.deleteUser()}})}}),r.a.createElement(p.b,{exact:!0,path:"/editprofile",render:function(){return r.a.createElement(Y,{user:e.state.loggedInUser})}}),r.a.createElement(p.b,{path:"/viewprojects/:id",render:function(e){return r.a.createElement(H,e)}}),r.a.createElement(p.b,{path:"/viewtasks/:id",render:function(e){return r.a.createElement(Q,e)}})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{to:"/login"}),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},r.a.createElement(O,{userInSession:this.state.loggedInUser,logout:this.logout})),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(E,{getUser:e.getUser})}}),r.a.createElement(p.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(j,{getUser:e.getUser})}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g.a,null,r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.9cd36f53.chunk.js.map