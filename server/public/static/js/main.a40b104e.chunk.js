(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){},39:function(e,t,a){e.exports=a(84)},44:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(34),c=a.n(s),o=(a(44),a(7)),i=a(1),l=a(2),u=a(4),m=a(3),d=a(5),p=a(15),h=a(9),f=a.n(h),b=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e,a,n){return t.service.post("/signup",{username:e,password:a,email:n}).then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentuser").then((function(e){return e.data}))},this.logout=function(){return t.service.get("/logout").then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat("https://studiomanagerapp.herokuapp.com","/api/auth"),withCredentials:!0})},v=function e(){var t=this;Object(i.a)(this,e),this.deleteUser=function(){return t.service.post("/deleteUser").then((function(e){return e.data}))},this.editUser=function(e,a,n){return t.service.post("/updateUser",{username:e,email:a,image:n}).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat("https://studiomanagerapp.herokuapp.com","/api/auth"),withCredentials:!0})},g=a(6),j=(a(32),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,r=a.state.email;a.service.signup(t,n,r).then((function(e){a.setState({username:"",password:"",email:""}),a.props.getUser(e.user)})).catch((function(e){a.setState({username:t,password:n,email:r,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(o.a)({},n,r))},a.state={username:"",password:"",email:""},a.service=new b,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-signup"},r.a.createElement("h3",null,"Create your account:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",{className:"LSlabel"},"Username:"),r.a.createElement("input",{className:"LSinput",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",{className:"align"},r.a.createElement("label",{className:"LSlabel"},"Email:"),r.a.createElement("input",{className:"LSinput",type:"text",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",{className:"LSlabel"},"Password:"),r.a.createElement("input",{className:"LSinput",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"LSbutton",type:"submit",value:"Sign up"})),r.a.createElement("h1",null,this.state.error?"Error":""),r.a.createElement("span",{className:"LStext"},"Allready a  user? ",r.a.createElement(g.b,{className:"LStextLink",to:"/login"},"login")))}}]),t}(n.Component)),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e)})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(o.a)({},n,r))},a.state={username:"",password:""},a.service=new b,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-signup"},r.a.createElement("h3",null,"Login to your account:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",{className:"LSlabel"},"Username:"),r.a.createElement("input",{className:"LSinput",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",{className:"LSlabel"},"Password:"),r.a.createElement("input",{className:"LSinput",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"LSbutton",type:"submit",value:"Login"})),r.a.createElement("h1",null,this.state.error?"Error":""),r.a.createElement("span",{className:"LStext"},"Not a  user? ",r.a.createElement(g.b,{className:"LStextLink",to:"/signup"},"Signup")))}}]),t}(n.Component),O=(a(67),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){a.props.logout()},a.state={loggedInUser:{}},a.service=new b,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.loggedInUser?r.a.createElement("nav",{className:"nav-style"},r.a.createElement("div",{className:"navbar-block-left"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://res.cloudinary.com/dmzi2js9s/image/upload/v1570991057/Studio%20Manager/Studio_manager_2_d7ssm2.png",alt:"studio manager logo"})),r.a.createElement("div",{className:"navbar-element"},r.a.createElement(g.b,{to:"/viewstudios"},"Home"))),r.a.createElement("div",{className:"navbar-block-right"},r.a.createElement("div",{className:"navbar-element"},r.a.createElement(g.b,{to:"/profile"},this.state.loggedInUser.username,"'s profile")),r.a.createElement("div",{className:"navbar-element"},r.a.createElement(g.b,{to:"/login",onClick:this.handleLogout},"Logout")))):r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-style"},r.a.createElement("div",{className:"navbar-block-left"},r.a.createElement("div",null,r.a.createElement("img",{src:"https://res.cloudinary.com/dmzi2js9s/image/upload/v1570991057/Studio%20Manager/Studio_manager_2_d7ssm2.png",alt:"studio manager logo"}))),r.a.createElement("div",{className:"navbar-block-right"},r.a.createElement("div",{className:"navbar-element"},r.a.createElement(g.b,{to:"/signup"},"Signup")),r.a.createElement("div",{className:"navbar-element"},r.a.createElement(g.b,{to:"/login"},"Login")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.loggedInUser=e.userInSession}}]),t}(n.Component)),S=(a(68),a(13)),k=function e(){var t=this;Object(i.a)(this,e),this.create=function(e){return t.service.post("/studiocreate",{studioname:e}).then((function(e){return e.data}))},this.allStudios=function(){return t.service.get("/allStudios").then((function(e){return e.data}))},this.oneStudio=function(e){return t.service.get("/getStudio/".concat(e)).then((function(e){return e.data}))},this.deleteStudio=function(e){return t.service.post("/deleteStudio/".concat(e._id)).then((function(e){return e.data}))},this.editStudio=function(e,a,n){return t.service.post("/editStudio/".concat(e),{studioname:a,image:n}).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat("https://studiomanagerapp.herokuapp.com","/api/studioroutes"),withCredentials:!0})},y=(a(69),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.studioname;a.service.create(t).then((function(e){a.setState({studioname:""}),a.props.getStudio(e)})).catch((function(e){a.setState({studioname:t,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(o.a)({},n,r))},a.state={studioname:""},a.service=new k,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"createStudio"},r.a.createElement("h3",null,"Create your studio:"),r.a.createElement("form",{className:"create-form",onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("input",{type:"text",name:"studioname",placeholder:"Enter your studio's name",value:this.state.studioname,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"create"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component)),w=(a(70),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClic=function(e){a.props.selected(a.props.studio._id)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"editHandler",value:function(e){this.props.editStudio(this.props.studio)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"studioCard"},r.a.createElement("img",{src:this.props.studio.studioimage,alt:this.props.studio.studioname}),r.a.createElement("h2",null,this.props.studio.studioname),r.a.createElement("h4",null,"Open projects: ",this.props.studio.projects.length," "),r.a.createElement(g.b,{to:"/viewprojects/".concat(this.props.studio._id)},r.a.createElement("button",{onClick:function(t){e.handleClic(t)}},"See projects")),r.a.createElement(g.b,{to:"/editstudio/".concat(this.props.studio._id)},r.a.createElement("button",{onClick:function(t){return e.editHandler(t)}},"Edit")),r.a.createElement("button",{onClick:function(){return e.props.deleteStudio(e.props.studio)}},"Delete"))}}]),t}(n.Component));a(71);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getStudio=function(e){var t=Object(S.a)(a.state.studios);t.push(e),a.setState(P({},a.state,{studios:t}))},a.state={studios:[]},a.service=new k,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getAllStudios()}},{key:"getAllStudios",value:function(){var e=this;this.service.allStudios().then((function(t){e.setState(P({},e.state,{studios:t}))}))}},{key:"deleteStudio",value:function(e){var t=Object(S.a)(this.state.studios).filter((function(t){return t._id!==e._id}));this.setState(P({},this.state,{studios:t})),this.service.deleteStudio(e)}},{key:"render",value:function(){var e=this;return Array.isArray(this.state.studios)?r.a.createElement("div",{className:"viewStudio"},r.a.createElement("div",{className:"studioView"},this.state.studios.map((function(t){return r.a.createElement(w,{key:t._id,editStudio:e.props.editStudio,selected:e.props.selected,studio:t,deleteStudio:function(t){return e.deleteStudio(t)}})}))),r.a.createElement(y,{getStudio:this.getStudio})):r.a.createElement("div",null,r.a.createElement(y,{getStudio:this.getStudio}))}}]),t}(n.Component),D=a(37),U=a.n(D),T=(a(74),["Enero","Febrero","Mars","Avril","Mai","Juin","Juillet","A\xfbot","Septembre","Octobre","Novembre","D\xe9cembre"]),_=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e,t){a.setState({startDate:e,endDate:t})},a.render=function(){var e=a.state,t=e.startDate,n=e.endDate;return r.a.createElement(U.a,{disableDates:function(e){return e<(new Date).getTime()},startDate:t,endDate:n,onChange:a.onChange,range:!0,monthLabels:T})};var n=new Date,s=n.getTime();return a.state={startDate:s,endDate:new Date(s).setDate(n.getDate()+0)},a}return Object(d.a)(t,e),t}(n.Component),x=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_,null))}}]),t}(n.Component),L=a(22),F=a.n(L),I=a(38),A=function e(){var t=this;Object(i.a)(this,e),this.create=function(e){return t.service.post("/newProject",{projectName:e}).then((function(e){return e.data}))},this.allProjects=function(e){return t.service.get("/allProjects/".concat(e)).then((function(e){return e.data}))},this.editProject=function(e,a,n,r,s){return t.service.post("/editProject/".concat(e),{projectname:a,bandname:n,comments:r,image:s}).then((function(e){return e.data}))},this.deleteProject=function(e){return t.service.post("/deleteProject/".concat(e._id)).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat("https://studiomanagerapp.herokuapp.com","/api/projectRoutes"),withCredentials:!0})},M=(a(76),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"editHandler",value:function(e){this.props.editProject(this.props.project)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"projectCard"},r.a.createElement("img",{src:this.props.project.projectimage,alt:this.props.project.name}),r.a.createElement("h2",null,this.props.project.name),r.a.createElement("h3",null,this.props.project.bandname),r.a.createElement(g.b,{to:"/viewtasks/".concat(this.props.project._id)},r.a.createElement("button",null,"See tasks")),r.a.createElement("div",{className:"horizontal-buttons"},r.a.createElement(g.b,{to:"/editproject/".concat(this.props.project._id)},r.a.createElement("button",{onClick:function(t){return e.editHandler(t)}},"Edit")),r.a.createElement("button",{onClick:function(){return e.props.deleteProject(e.props.project)}},"Delete")))}}]),t}(n.Component));a(77);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.projectname,n=a.state.bandname,r=a.state.comments;a.service.create({projectname:t,bandname:n,comments:r,belongsTo:a.props.urlId}).then((function(e){a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,{projectname:"",bandname:"",comments:""})),a.props.getProject(e.saveProject)})).catch((function(e){a.setState({projectname:t,bandname:n,comments:r,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(o.a)({},n,r))},a.state={projectname:"",bandname:"",comments:""},a.service=new A,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"createProject"},r.a.createElement("h3",null,"Create a new project:"),r.a.createElement("form",{className:"create-project-form",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"horizontal-form"},r.a.createElement("fieldset",null,r.a.createElement("input",{type:"text",placeholder:"Project name",name:"projectname",value:this.state.projectname,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("input",{type:"text",placeholder:"Band name",name:"bandname",value:this.state.bandname,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("fieldset",null,r.a.createElement("textarea",{placeholder:"Comments...",cols:"50",rows:"8",name:"comments",value:this.state.comments,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"create"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(n.Component),B=(a(78),a(79),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"search-form",id:"test"},r.a.createElement("input",{type:"search",name:"projectSearch",placeholder:"Search projects...",onChange:function(t){return e.props.updateSearchFormData(t)}}))}}]),t}(n.Component));function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getProject=function(e){var t=Object(S.a)(a.state.projects);t.push(e),a.setState(z({},a.state,{projects:t,projectsClean:t}))},a.state={projects:[],projectsClean:[],studio:{}},a.service=new A,a.serviceStudio=new k,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getStudio()}},{key:"getStudio",value:function(){var e=Object(I.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceStudio.oneStudio(this.props.match.params.id);case 2:t=e.sent,this.setState(z({},this.state,{studio:t,projectsClean:t.projects,projects:t.projects}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSearch",value:function(e){var t=e.target.value,a=Object(S.a)(this.state.projectsClean);this.setState(z({},this.state,{projects:a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))}},{key:"deleteProject",value:function(e){var t=Object(S.a)(this.state.projects).filter((function(t){return t._id!==e._id}));this.setState(z({},this.state,{projects:t})),this.service.deleteProject(e)}},{key:"render",value:function(){var e=this;if(this.state.studio&&this.state.projects)return r.a.createElement("div",{className:"viewProject"},r.a.createElement(B,{className:"search",updateSearchFormData:function(t){return e.updateSearch(t)}}),r.a.createElement("div",{className:"projectView"},this.state.projects.map((function(t){return r.a.createElement(M,{key:t._id,project:t,selected:e.props.selectedStudio,deleteProject:function(t){return e.deleteProject(t)},editProject:e.props.editProject})}))),r.a.createElement(V,{getProject:function(t){return e.getProject(t)},urlId:this.props.match.params.id}),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/viewstudios"},"Back to studios")))}}]),t}(n.Component),Y=a(18),W=a.n(Y),$=(a(81),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"taskItemComponent"},r.a.createElement("input",{type:"checkbox",checked:this.props.task.done,onChange:function(){return e.props.updateTaskValue(e.props.task)}}),r.a.createElement("span",{style:{textDecoration:this.props.task.done?"line-through":""}},W()(this.props.task.createdAt).format("DD/MM hh:mm")),r.a.createElement("span",{style:{textDecoration:this.props.task.done?"line-through":""}},this.props.task.name),r.a.createElement("button",{onClick:function(){return e.props.deleteTask(e.props.task)}},"Delete"))}}]),t}(n.Component));a(82);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={projectname:"",bandname:"",comments:"",projectimage:"",tasks:[],newTask:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat("https://studiomanagerapp.herokuapp.com","/api/taskRoutes/projectTasks/").concat(this.props.match.params.id)).then((function(t){e.setState(G({},e.state,{tasks:t.data.tasks,bandname:t.data.bandname,projectname:t.data.name,comments:t.data.comments,projectimage:t.data.projectimage}))}))}},{key:"addNewTask",value:function(){var e=this;""!==this.state.newTask&&f.a.post("".concat("https://studiomanagerapp.herokuapp.com","/api/taskRoutes/newTask"),{name:this.state.newTask,projectID:this.props.match.params.id}).then((function(t){e.setState(G({},e.state,{tasks:t.data.tasks,newTask:""}))}))}},{key:"setNewTaskValue",value:function(e){this.setState(G({},this.state,{newTask:e.target.value}))}},{key:"updateTaskValue",value:function(e){var t=this,a=!Object(S.a)(this.state.tasks).find((function(t){return t._id===e._id})).done,n="".concat("https://studiomanagerapp.herokuapp.com","/api/taskRoutes/task/").concat(e._id,"/done/").concat(a,"/project/").concat(this.props.match.params.id);f.a.get(n).then((function(e){t.setState(G({},t.state,{tasks:e.data.tasks}))}))}},{key:"deleteTask",value:function(e){var t=Object(S.a)(this.state.tasks).filter((function(t){return t._id!==e._id}));this.setState(G({},this.state,{tasks:t})),f.a.get("".concat("https://studiomanagerapp.herokuapp.com","/api/taskRoutes/deleteTask/").concat(e._id))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tasks"},r.a.createElement("section",null,r.a.createElement("img",{src:this.state.projectimage,alt:"project"}),r.a.createElement("h3",null,this.state.projectname)," -",r.a.createElement("h3",null,this.state.bandname),r.a.createElement("p",null,this.state.comments)),r.a.createElement("section",null,r.a.createElement("input",{type:"text",value:this.state.newTask,onChange:function(t){return e.setNewTaskValue(t)},placeholder:"Please specify your new task"}),r.a.createElement("button",{onClick:function(){return e.addNewTask()}},"Add new task")),this.state.tasks.filter((function(e){return!e.done})).length>0&&r.a.createElement("div",null,r.a.createElement("h1",{className:"task-list"},"Total tasks to do -"," ",this.state.tasks.filter((function(e){return!e.done})).length),r.a.createElement("section",{className:"task-list"},this.state.tasks.filter((function(e){return!e.done})).map((function(t){return r.a.createElement($,{key:t._id,task:t,updateTaskValue:function(t){return e.updateTaskValue(t)},deleteTask:function(t){return e.deleteTask(t)}})})))),this.state.tasks.filter((function(e){return e.done})).length>0&&r.a.createElement("div",null,r.a.createElement("h1",{className:"task-list"},"Total tasks done -"," ",this.state.tasks.filter((function(e){return e.done})).length),r.a.createElement("section",{className:"task-list"},this.state.tasks.filter((function(e){return e.done})).map((function(t){return r.a.createElement($,{key:t._id,task:t,updateTaskValue:function(t){return e.updateTaskValue(t)}})})))),0===this.state.tasks.filter((function(e){return e.done})).length&&r.a.createElement("h1",null,"No tasks done"),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/viewprojects/".concat(this.props.selectedStudio)},"Back to projects")))}}]),t}(n.Component),Q=(a(83),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.user},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"profileCard"},r.a.createElement("img",{src:this.state.user.image,alt:"profile pic"}),r.a.createElement("div",null,r.a.createElement("h1",null,"Hello ",this.state.user.username,"!"),r.a.createElement("h3",null,"email: ",this.state.user.email),r.a.createElement("h3",null,"User since: ",W()(this.state.user.created_at).format("dddd DD MMM YYYY")),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/editprofile"},r.a.createElement("button",{props:this.state.user},"Edit your profile")),r.a.createElement("button",{onClick:function(){return e.props.deleteUser()}},"Delete your profile")))))}}]),t}(n.Component)),X=function(){function e(){Object(i.a)(this,e),this.service=f.a.create({baseURL:"".concat("https://studiomanagerapp.herokuapp.com","/api/photoRoutes"),withCredentials:!0})}return Object(l.a)(e,[{key:"handleUpload",value:function(e){return this.service.post("/upload",e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}}]),e}(),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.newName,n=a.state.newEmail,r=a.state.imgPath;a.service.editUser(t,n,r).then((function(e){a.setState({newName:t,newEmail:n,imgPath:r,success:!0})})).catch((function(e){a.setState({error:!0})}))},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.photoService.handleUpload(t).then((function(e){a.setState({imgPath:e.secure_url})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(o.a)({},n,r))},a.state={user:a.props.user,newName:a.props.user.username,newEmail:a.props.user.email,imgPath:"",error:null,success:!1},a.service=new v,a.photoService=new X,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"checkToSend",value:function(){return!(this.state.newName&&this.state.newEmail&&this.state.imgPath)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Edit your profile:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"newName",value:this.state.newName,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"newEmail",value:this.state.newEmail,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"file-input",type:"file",name:"imageUrl",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("button",{type:"submit",disabled:this.checkToSend()},"Save changes")),r.a.createElement("h2",null,this.state.error?"Something went wrong":""),r.a.createElement("h2",null,this.state.success?"Success!":""))}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.projectname,n=a.state.bandname,r=a.state.comments,s=a.state.imgPath,c=a.props.project._id;a.service.editProject(c,t,n,r,s).then((function(e){a.setState({projectname:t,bandname:n,comments:r,imgPath:s,success:!0,error:!1})})).catch((function(e){a.setState({error:!0})}))},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.photoService.handleUpload(t).then((function(e){a.setState({imgPath:e.secure_url})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(o.a)({},n,r))},a.state={projectname:a.props.project.name,bandname:a.props.project.bandname,comments:a.props.project.comments,imgPath:"",error:null,success:!1},a.service=new A,a.photoService=new X,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"checkToSend",value:function(){return!this.state.projectname||!this.state.imgPath}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Edit project:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Project name:"),r.a.createElement("input",{type:"text",name:"projectname",value:this.state.projectname,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Band name:"),r.a.createElement("input",{type:"text",name:"bandname",value:this.state.bandname,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Comments:"),r.a.createElement("textarea",{name:"comments",value:this.state.comments,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"file-input",type:"file",name:"imageUrl",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("button",{type:"submit",disabled:this.checkToSend()},"Save changes")),r.a.createElement("h2",null,this.state.error?"Something went wrong":""),r.a.createElement("h2",null,this.state.success?"Success!":""),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/viewprojects/".concat(this.props.selectedStudio)},"Back to projects")))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.studioname,n=a.state.imgPath,r=a.props.studio._id;a.service.editStudio(r,t,n).then((function(e){a.setState({studioname:t,imgPath:n,success:!0,error:!1})})).catch((function(e){a.setState({error:!0})}))},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.photoService.handleUpload(t).then((function(e){a.setState({imgPath:e.secure_url})})).catch((function(e){console.log("Error while uploading the file: ",e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(o.a)({},n,r))},a.state={studioname:a.props.studio.studioname,error:null,success:!1,imgPath:""},a.service=new k,a.photoService=new X,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"checkToSend",value:function(){return!this.state.studioname||!this.state.imgPath}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Edit project:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Project name:"),r.a.createElement("input",{type:"text",name:"studioname",value:this.state.studioname,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{className:"file-input",type:"file",name:"imageUrl",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("button",{type:"submit",disabled:this.checkToSend()},"Save changes")),r.a.createElement("h2",null,this.state.error?"Something went wrong":""),r.a.createElement("h2",null,this.state.success?"Success!":""),r.a.createElement("div",null,r.a.createElement(g.b,{to:"/viewprojects/".concat(this.props.selectedStudio)},"Back to projects")))}}]),t}(n.Component);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var re=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).getUser=function(t){e.setState({loggedInUser:t})},e.logout=function(){e.service.logout().then((function(){e.setState({loggedInUser:null})}))},e.editProject=function(t){e.setState(ne({},e.state,{projecttoedit:t}))},e.editStudio=function(t){e.setState(ne({},e.state,{studiotoedit:t}))},e.selectedStudio=function(t){e.setState(ne({},e.state,{selectedStudio:t}))},e.state={loggedInUser:null,projecttoedit:{},selectedStudio:"",studiotoedit:{}},e.service=new b,e.serviceUser=new v,e.fetchUser(),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"deleteUser",value:function(){var e=this;"delete"===prompt("Type 'delete' to confirm")&&this.serviceUser.deleteUser().then((function(){e.setState({loggedInUser:null})}))}},{key:"fetchUser",value:function(){var e=this;return this.service.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{to:"/home"}),r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(O,{userInSession:this.state.loggedInUser,logout:this.logout})),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/viewcalendar",render:function(){return r.a.createElement(x,null)}}),r.a.createElement(p.b,{exact:!0,path:"/viewstudios",render:function(){return r.a.createElement(N,{selected:e.selectedStudio,editStudio:e.editStudio})}}),r.a.createElement(p.b,{exact:!0,path:"/home",render:function(){return r.a.createElement(N,{selected:e.selectedStudio,editStudio:e.editStudio})}}),r.a.createElement(p.b,{exact:!0,path:"/",render:function(){return r.a.createElement(N,{selected:e.selectedStudio,editStudio:e.editStudio})}}),r.a.createElement(p.b,{exact:!0,path:"/profile",render:function(){return r.a.createElement(Q,{user:e.state.loggedInUser,deleteUser:function(){return e.deleteUser()}})}}),r.a.createElement(p.b,{exact:!0,path:"/editprofile",render:function(){return r.a.createElement(Z,{user:e.state.loggedInUser})}}),r.a.createElement(p.b,{path:"/viewprojects/:id",render:function(t){return r.a.createElement(J,Object.assign({},t,{editProject:e.editProject}))}}),r.a.createElement(p.b,{path:"/editproject/:id",render:function(t){return r.a.createElement(ee,Object.assign({},t,{project:e.state.projecttoedit}))}}),r.a.createElement(p.b,{path:"/editstudio/:id",render:function(t){return r.a.createElement(te,Object.assign({},t,{studio:e.state.studiotoedit}))}}),r.a.createElement(p.b,{path:"/viewtasks/:id",render:function(t){return r.a.createElement(K,Object.assign({},t,{selectedStudio:e.state.selectedStudio}))}})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{to:"/login"}),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},r.a.createElement(O,{userInSession:this.state.loggedInUser,logout:this.logout})),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(j,{getUser:e.getUser})}}),r.a.createElement(p.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(E,{getUser:e.getUser})}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g.a,null,r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.a40b104e.chunk.js.map